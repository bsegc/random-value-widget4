<!DOCTYPE html>
<html>
    <head>
        <!-- Load the Jotform Custom Widget API -->
        <script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
    </head>
    <body>
        <div id="main">
            <h3>Random Value Generator Widget</h3>
            <!-- Input box to display the random value -->
            <input type="text" id="randomValueBox" readonly>
        </div>
        <script type="text/javascript">
            // Always subscribe to the ready event and implement widget-related code
            JFCustomWidget.subscribe("ready", function() {
                // Generate a random integer between 0 and 4
                var randomValue = Math.floor(Math.random() * 5);
                
                // Set the value in the input box
                document.getElementById('randomValueBox').value = randomValue;

                // Automatically send the generated value when the form is submitted
                JFCustomWidget.subscribe("submit", function() {
                    var result = {
                        valid: true,
                        value: randomValue // Use the generated random value
                    };
                    // Send the result back to JotForm
                    JFCustomWidget.sendSubmit(result);
                });
            });
        </script>
    </body>
</html>
